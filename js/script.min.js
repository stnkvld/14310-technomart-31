"use strict";const feedbackButton=document.querySelector('.button[href="#feedback"]'),feedbackPopup=document.querySelector(".modal.feedback"),mapButton=document.querySelector('.link[href="#map"]'),mapPopup=document.querySelector(".modal.map"),popupCloseButtons=document.querySelectorAll(".modal__close"),specialSlider=document.querySelector(".slider"),buyButtons=document.querySelectorAll(".product-card__buy"),addedPopup=document.querySelector(".added-cart");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}function closePopup(e){e.classList.add("modal--close"),setTimeout(function(){e.classList.remove("modal--show"),e.classList.remove("modal--close"),e.classList.remove("modal--error")},350)}if(popupCloseButtons.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),closePopup(e.target.closest(".modal"))})}),window.addEventListener("keydown",function(e){"Esc"!==e.key&&"Escape"!==e.key||(feedbackPopup&&feedbackPopup.classList.contains("modal--show")&&closePopup(feedbackPopup),mapPopup&&mapPopup.classList.contains("modal--show")&&closePopup(mapPopup),addedPopup&&addedPopup.classList.contains("modal--show")&&closePopup(addedPopup))}),feedbackPopup){const e=feedbackPopup.querySelector(".feedback__form"),t=e.querySelector('[name="name"]'),o=e.querySelector('[name="email"]'),a=e.querySelector('[name="text"]');feedbackButton.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("modal--show"),storage?(t.value=localStorage.getItem("name"),o.value=localStorage.getItem("email"),a.focus()):t.focus()}),e.addEventListener("submit",function(e){e.preventDefault(),t.value&&o.value?isStorageSupport&&(localStorage.setItem("name",t.value),localStorage.setItem("email",o.value),e.target.submit()):feedbackPopup.classList.add("modal--error")}),mapButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal--show")})}if(specialSlider){const e=specialSlider.querySelector(".slider__btn--prev"),t=specialSlider.querySelector(".slider__btn--next");e.addEventListener("click",function(e){e.preventDefault();const t=e.target.closest(".slider"),o=t.querySelector(".slider__bullet-radio:checked");let a=o.previousElementSibling;o.checked=!1,a&&a.classList.contains("slider__bullet-radio")||(a=t.querySelector(".slider__bullet-radio:last-of-type")),a.checked=!0}),t.addEventListener("click",function(e){e.preventDefault();const t=e.target.closest(".slider"),o=t.querySelector(".slider__bullet-radio:checked");let a=o.nextElementSibling;o.checked=!1,a&&a.classList.contains("slider__bullet-radio")||(a=t.querySelector(".slider__bullet-radio:first-of-type")),a.checked=!0})}addedPopup&&buyButtons.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),addedPopup.classList.add("modal--show")})});
